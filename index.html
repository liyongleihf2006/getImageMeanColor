<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="getImageMeanColor.js"></script>
</head>
<body>
    <img src="123.jpg">
    <button id="todo">获取图片的平均颜色值</button>
    <hr/>
    <span>
        <span>获取的颜色值为:</span>
        <label>rgba:</label>
        <span id="rgba"></span>;
        <label>hsla:</label>
        <span id="hsla"></span>;
        <label>red:</label>
        <span id="red"></span>;
        <label>green:</label>
        <span id="green"></span>;
        <label>blue:</label>
        <span id="blue"></span>;
        <label>alpha:</label>
        <span id="alpha"></span>;
        <label>色相:</label>
        <span id="h"></span>;
        <label>饱和度:</label>
        <span id="s"></span>;
        <label>明度:</label>
        <span id="l"></span>
        <br/>
        <label>共用时:</label>
        <span id="durtime"></span>
        <br/>
        <label>rgba:</label>
        <div id="rgbaPanel" style="height:100px;width:100px;display:inline-block;"></div>
        <label>hsla:</label>
        <div id="hslaPanel" style="height:100px;width:100px;display:inline-block;"></div>
    </span>
    <script>
        document.querySelector("#todo").addEventListener("click",function(){
            var startTime = new Date();
            getImageMeanColor({
                imageUrl:"123.jpg",
                clipHeight:"100%",
                skewPosition:"top",
                minification:10,
                cb:function(rgba,hsla,r,g,b,a,h,s,l){
                    document.querySelector("#rgba").innerHTML=rgba;
                    document.querySelector("#hsla").innerHTML=hsla;
                    document.querySelector("#red").innerHTML=r;
                    document.querySelector("#green").innerHTML=g;
                    document.querySelector("#blue").innerHTML=b;
                    document.querySelector("#alpha").innerHTML=a;
                    document.querySelector("#h").innerHTML=h;
                    document.querySelector("#s").innerHTML=s;
                    document.querySelector("#l").innerHTML=l;
                    document.querySelector("#durtime").innerHTML=new Date()-startTime+"毫秒";
                    document.querySelector("#rgbaPanel").style.background=rgba;
                    document.querySelector("#hslaPanel").style.background=hsla;

                }
            });
        })
    </script>
</body>
</html>